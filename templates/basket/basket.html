{% extends 'base.html' %}
{% load static %}

{% block css %}

    <link rel="stylesheet" href="{% static 'css/basket.css' %}">

{% endblock %}

{% block title %} | Basket{% endblock %}

{% block content %}
    <section class="basket-body">
        {% if basket_items %}
            <div class="item-list">
                {% for item in basket_items %}
                    <div class="grid-item-row">
                        <div class="item-image">
                            <img src="{{ item.product.image_url }}" alt="">
                        </div>
                        <div class="item-name">
                            {{ item.product.name }}
                        </div>
                        {% if product.size %}
                        <div class="item-name">
                            {{ item.product.size }}
                        </div>
                        {% endif %}
                        <div class="item-quantity">
                            {{ item.quantity }}
                        </div>
                        <div class="total-price">
                            {{ item.product.price }}
                        </div>
                    </div>
                {% endfor %}
            </div>
            
        {% else %}
            <p>You haven't added anything yet!</p>
            <button><a href="{% url 'products' %}">Go shopping!</a></button>
        {% endif %}
        
        <div class="receipt">
            <div class="receipt-content">
                <p>Basket: £{{ total|floatformat:2 }}</p>
                <p>Delivery: £{{ delivery|floatformat:2 }}</p>
                <p>Total: £{{ grand_total|floatformat:2 }}</p>
            </div>
            <div class="call-to-action">
                <button class="btn"><a href="{% url 'products' %}">Keep shopping</a></button>
                <button class="btn"><a href="#">Go to checkout</a></button>
            </div>
        </div>
    </section>
{% endblock %}

{% block js %}
{% endblock %}
