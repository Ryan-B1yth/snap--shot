{% extends 'base.html' %}
{% load static %}

{% block css %}

    <link rel="stylesheet" href="{% static 'css/product_detail.css' %}">

{% endblock %}

{% block title %} | {{ product.name }}{% endblock %}

{% block content %}
    {% if product.image %}
        <img src="{{ product.image.url }}" alt="" class="items-body-img">
    {% else %}
        <img src="{{ MEDIA_URL}}no-image.jpg" alt="" class="items-body-img">
    {% endif %}

    <div class="items-main">
        <div class="item-images shadow">
            <div class="main-img">
                {% if product.image %}
                    <img src="{{ product.image.url }}" alt="">
                {% else %}
                    <img src="{{ MEDIA_URL}}no-image.jpg" alt="No image available">
                {% endif %}
            </div>
        </div>
        <div class="item-information shadow">
            <h1 class="item-title">{{ product.name }}</h1>
            <div class="item-description">{{ product.description }}</div>
            <p>Â£{{ product.price }}</p>

            <form action="{% url 'add_to_basket' product.id %}" method="POST">
                {% csrf_token %}
                <p>Quantity: </p>
                <div class="quantity-change">
                    <div class="decrement" id="decrement"><button class="btn">-</button></div>
                    <input id="quantity" class="btn" type="number" name="quantity" value="1" min="1" max="99" data-item_id="{{ product.id }}" id="id_qty_{{ product.id }}">
                    <div class="increment" id="increment"><button class="btn">+</button></div>
                </div>
                {% if product.sizes %}
                    <select name="product_size" id="product_size">
                        <option value="4x6">4x6</option>
                        <option value="5x7">5x7</option>
                        <option value="6x8">6x8</option>
                        <option value="8x8">8x8</option>
                        <option value="5x10">5x10</option>
                        <option value="8x10">8x10</option>
                        <option value="10x12">10x12</option>
                        <option value="11x14">11x14</option>
                        <option value="12x15">12x15</option>
                        <option value="16x20">16x20</option>
                        <option value="20x24">20x24</option>
                    </select>
                {% endif %}
                <input type="submit" class="btn" value="Add to basket">
                <input type="hidden" name="redirect_url" value="{{ request.path }}">
                {% if user.is_superuser %}
                    <a href="{% url 'edit_product' product.id %}">Edit this product</a>
                {% endif %}
            </form>
            <div class="keep-shopping"><a href="{% url 'products' %}">Keep shopping</a></div>


        </div>
        <div class="item-extra-info shadow">
            <h4>Others in this category - <a href="{% url 'products' %}?category={{ product.category.name }}">{{ product.category.friendly_name }}</a></h4>
        </div>
    </div>

{% endblock %}

{% block js %}

    <script src="{% static 'js/product-detail.js'%}"></script>

{% endblock %}
